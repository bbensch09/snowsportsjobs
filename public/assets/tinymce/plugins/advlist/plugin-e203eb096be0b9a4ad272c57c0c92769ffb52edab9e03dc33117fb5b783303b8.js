tinymce.PluginManager.add("advlist",function(t){function e(e){return t.$.contains(t.getBody(),e)}function n(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&e(t)}function o(t,e){var n=[];return tinymce.each(e.split(/[ ,]/),function(t){n.push({text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()}),data:"default"==t?"":t})}),n}function l(e,n){t.undoManager.transact(function(){var o,l=t.dom,a=t.selection;if(o=l.getParent(a.getNode(),"ol,ul"),!o||o.nodeName!=e||n===!1){var i={"list-style-type":n?n:""};t.execCommand("UL"==e?"InsertUnorderedList":"InsertOrderedList",!1,i)}o=l.getParent(a.getNode(),"ol,ul"),o&&tinymce.util.Tools.each(l.select("ol,ul",o).concat([o]),function(t){t.nodeName!==e&&n!==!1&&(t=l.rename(t,e)),l.setStyle(t,"listStyleType",n?n:null),t.removeAttribute("data-mce-style")}),t.focus()})}function a(e){var n=t.dom.getStyle(t.dom.getParent(t.selection.getNode(),"ol,ul"),"listStyleType")||"";e.control.items().each(function(t){t.active(t.settings.data===n)})}var i,r;i=o("OL",t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),r=o("UL",t.getParam("advlist_bullet_styles","default,circle,disc,square"));var s=function(e){return function(){var o=this;t.on("NodeChange",function(t){var l=tinymce.util.Tools.grep(t.parents,n);o.active(l.length>0&&l[0].nodeName===e)})}};tinymce.PluginManager.get("lists")&&(t.addCommand("ApplyUnorderedListStyle",function(t,e){l("UL",e["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",function(t,e){l("OL",e["list-style-type"])}),t.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:i,onPostRender:s("OL"),onshow:a,onselect:function(t){l("OL",t.control.settings.data)},onclick:function(){l("OL",!1)}}),t.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",onPostRender:s("UL"),menu:r,onshow:a,onselect:function(t){l("UL",t.control.settings.data)},onclick:function(){l("UL",!1)}}))});